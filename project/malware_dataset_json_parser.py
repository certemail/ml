import json
import glob
import os
from pprint import pprint

path_to_dataset = "/home/user/MalwareTrainingSets/trainingSets/"

def enumerate_all_features():

    # recursively open all files
    for filename in glob.iglob(path_to_dataset + '/**/*.json', recursive=True):
        print("PROCESSING: " + filename)

        with open(filename) as data_file:
            data = json.load(data_file)
            print("LABEL: " + data["properties"]["label"])
            #pprint(data)
    
            ## extract all API calls and place in list
            #apis_str = data["properties"]["api_resolv"]
            #api_list = [x for x in apis_str.split()]
            #print("num APIS : " + str(len(api_list)))
            #print("APIs: " + str(api_list))


if __name__ == '__main__':
    enumerate_all_features()
